import React, { useEffect } from 'react'
import Left from './Left'
import './Left.css'
import './utilities.css'
import './Playlist.css'
import PlaylistCard from './cards/PlaylistCard'
import { useSelector } from 'react-redux'
import { useParams } from 'react-router-dom'
import { useDispatch } from 'react-redux'
import { fetchSongs } from '../src/features/featureSlice'

const SongPlaylist = () => {
    const dispatch = useDispatch();
    const { id } = useParams()
   useEffect(()=>{
    dispatch(fetchSongs(id));
   },[id, dispatch]);

   const { songs, playlistTitle, image, background1, background2 } = useSelector((state)=>state.music);

  return (
    <div>
      <div className='flex'>
      <Left/>
        <div className="myplaylistContainer">
          <div 
          style={{background: `${background1}`}}
          className="myplaylistCard flex">
            <img
              aria-hidden="false"
              draggable="false"
              loading="lazy"
              src= {image}
              data-testid="card-image"
              alt=""
              className="mMx2LUixlnN_Fu45JpFB yMQTWVwLJ5bV8VGiaqU3 MxmW8QkHqHWtuhO589PV Yn2Ei5QZn19gria6LjZj"
            />
            <div className="playlistTitle flex-c">
              <p className="c-w">public playlist</p>
              <h1 className="c-w">{`${playlistTitle}`}</h1>
            </div>
          </div>

          <div
          style={{background: `${background2}`}} 
          className="playlistSongs">
            <div className="playlistsBtns flex p10">
              <div className="leftbtns flex al g20">
                <div className="play-pause">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    width="32"
                    height="32"
                    fill="black"
                  >
                    <path d="M8 5v14l11-7z"></path>
                  </svg>
                </div>

                <svg
                  className="invert"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  width="24"
                  height="24"
                  color="#000000"
                  fill="none"
                >
                  <defs></defs>
                  <path
                    fill="#141B34"
                    d="M4.581,6.75 L3,6.75 C2.586,6.75 2.25,6.414 2.25,6 C2.25,5.586 2.586,5.25 3,5.25 L4.619,5.25 C5.551,5.25 6.305,5.25 6.927,5.313 C7.575,5.379 8.134,5.517 8.663,5.825 C9.19,6.131 9.598,6.554 10,7.093 C10.39,7.616 10.806,8.294 11.325,9.14 L11.325,9.14 L14.333,14.045 C14.875,14.929 15.256,15.549 15.6,16.01 C15.936,16.461 16.201,16.712 16.488,16.878 C16.922,17.131 17.455,17.238 18.086,17.269 C18.495,17.289 18.872,17.277 19.267,17.266 L19.269,17.265 C19.522,17.258 19.783,17.25 20.065,17.25 L20.111,17.25 C20.354,17.25 20.617,17.25 20.826,17.282 C21.038,17.315 21.499,17.426 21.687,17.918 C21.864,18.382 21.631,18.768 21.514,18.938 C21.392,19.114 21.211,19.311 21.035,19.501 L21.007,19.532 L20.11,20.508 C19.829,20.813 19.355,20.832 19.05,20.552 C18.745,20.272 18.725,19.797 19.006,19.492 L19.683,18.756 C19.597,18.758 19.507,18.76 19.416,18.763 L19.41,18.763 C18.965,18.775 18.464,18.789 18.013,18.767 C17.276,18.731 16.466,18.601 15.734,18.175 C15.207,17.869 14.799,17.446 14.397,16.907 C14.007,16.384 13.592,15.706 13.073,14.86 L10.064,9.954 C9.523,9.071 9.142,8.451 8.798,7.99 C8.462,7.539 8.196,7.288 7.909,7.122 C7.625,6.956 7.295,6.858 6.776,6.805 C6.239,6.751 5.56,6.75 4.581,6.75 Z M14.677,9.394 C14.46,9.747 13.998,9.856 13.645,9.638 C13.293,9.42 13.183,8.958 13.401,8.606 C14.226,7.27 14.821,6.356 15.734,5.825 C16.466,5.399 17.276,5.269 18.013,5.233 C18.466,5.211 18.969,5.225 19.415,5.237 L19.416,5.237 C19.507,5.24 19.597,5.242 19.683,5.244 L19.006,4.508 C18.725,4.203 18.745,3.728 19.05,3.448 C19.355,3.168 19.829,3.187 20.11,3.492 L21.007,4.468 L21.035,4.499 C21.211,4.689 21.392,4.887 21.514,5.063 C21.631,5.232 21.864,5.618 21.687,6.082 C21.499,6.574 21.038,6.686 20.826,6.718 C20.617,6.75 20.353,6.75 20.109,6.75 L20.108,6.75 L20.065,6.75 C19.783,6.75 19.522,6.742 19.269,6.735 C18.873,6.723 18.496,6.711 18.086,6.731 C17.455,6.762 16.922,6.869 16.488,7.122 C15.96,7.429 15.55,7.981 14.677,9.394 Z M4.581,17.25 C5.56,17.25 6.239,17.249 6.776,17.195 C7.295,17.142 7.625,17.044 7.909,16.878 C8.438,16.571 8.847,16.019 9.72,14.606 C9.938,14.253 10.4,14.144 10.752,14.362 C11.105,14.58 11.214,15.042 10.996,15.394 C10.171,16.73 9.576,17.644 8.663,18.175 C8.134,18.483 7.575,18.621 6.927,18.687 C6.305,18.75 5.551,18.75 4.619,18.75 L3,18.75 C2.586,18.75 2.25,18.414 2.25,18 C2.25,17.586 2.586,17.25 3,17.25 Z"
                  ></path>
                </svg>

                <svg
                  className="invert"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  width="24"
                  height="24"
                  color="#000000"
                  fill="none"
                >
                  <defs />
                  <path
                    fill="#141B34"
                    d="M12,1.25 C17.937,1.25 22.75,6.063 22.75,12 C22.75,17.937 17.937,22.75 12,22.75 C6.063,22.75 1.25,17.937 1.25,12 C1.25,6.063 6.063,1.25 12,1.25 Z M2.75,12 C2.75,17.109 6.891,21.25 12,21.25 C17.109,21.25 21.25,17.109 21.25,12 C21.25,6.891 17.109,2.75 12,2.75 C6.891,2.75 2.75,6.891 2.75,12 Z M12,16.75 C11.742,16.75 11.519,16.661 11.358,16.575 C11.19,16.485 11.035,16.369 10.897,16.251 C10.621,16.017 10.346,15.715 10.099,15.425 C9.87,15.153 9.647,14.869 9.457,14.627 L9.41,14.567 C9.197,14.296 9.051,14.114 8.962,14.023 C8.673,13.726 8.68,13.251 8.977,12.962 C9.274,12.674 9.749,12.68 10.038,12.977 C10.195,13.139 10.397,13.396 10.589,13.641 L10.634,13.698 C10.827,13.943 11.033,14.206 11.244,14.455 L11.25,14.462 L11.25,8 C11.25,7.586 11.586,7.25 12,7.25 C12.414,7.25 12.75,7.586 12.75,8 L12.75,14.462 L12.756,14.455 C12.967,14.206 13.173,13.943 13.366,13.698 L13.411,13.641 C13.603,13.396 13.805,13.139 13.962,12.977 C14.251,12.68 14.726,12.674 15.023,12.962 C15.32,13.251 15.326,13.726 15.038,14.023 C14.949,14.114 14.804,14.296 14.59,14.567 L14.543,14.627 C14.353,14.869 14.13,15.153 13.901,15.425 C13.654,15.715 13.379,16.017 13.103,16.251 C12.965,16.369 12.81,16.485 12.642,16.575 C12.481,16.661 12.258,16.75 12,16.75 Z"
                  />
                </svg>

                <svg
                  className="invert"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  width="24"
                  height="24"
                  color="#000000"
                  fill="none"
                >
                  <defs />
                  <path
                    fill="#141B34"
                    d="M4.5,14.25 C3.257,14.25 2.25,13.243 2.25,12 C2.25,10.757 3.257,9.75 4.5,9.75 C5.743,9.75 6.75,10.757 6.75,12 C6.75,13.243 5.743,14.25 4.5,14.25 Z M9.75,12 C9.75,10.757 10.757,9.75 12,9.75 C13.243,9.75 14.25,10.757 14.25,12 C14.25,13.243 13.243,14.25 12,14.25 C10.757,14.25 9.75,13.243 9.75,12 Z M17.25,12 C17.25,10.757 18.257,9.75 19.5,9.75 C20.743,9.75 21.75,10.757 21.75,12 C21.75,13.243 20.743,14.25 19.5,14.25 C18.257,14.25 17.25,13.243 17.25,12 Z M3.75,12 C3.75,12.414 4.086,12.75 4.5,12.75 C4.914,12.75 5.25,12.414 5.25,12 C5.25,11.586 4.914,11.25 4.5,11.25 C4.086,11.25 3.75,11.586 3.75,12 Z M12,12.75 C12.414,12.75 12.75,12.414 12.75,12 C12.75,11.586 12.414,11.25 12,11.25 C11.586,11.25 11.25,11.586 11.25,12 C11.25,12.414 11.586,12.75 12,12.75 Z M19.5,12.75 C19.914,12.75 20.25,12.414 20.25,12 C20.25,11.586 19.914,11.25 19.5,11.25 C19.086,11.25 18.75,11.586 18.75,12 C18.75,12.414 19.086,12.75 19.5,12.75 Z"
                  />
                </svg>
              </div>

              <div className="rightBtns flex al g20">
                <img className="invert" src="./svgs/search.svg" alt="search" />
                <p className="text">custom order</p>
                <svg
                  className="invert"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  width="24"
                  height="24"
                  color="#000000"
                  fill="none"
                >
                  <defs />
                  <path
                    fill="#141B34"
                    d="M3.25,5 C3.25,4.586 3.586,4.25 4,4.25 L20,4.25 C20.414,4.25 20.75,4.586 20.75,5 C20.75,5.414 20.414,5.75 20,5.75 L4,5.75 C3.586,5.75 3.25,5.414 3.25,5 Z M3.25,12 C3.25,11.586 3.586,11.25 4,11.25 L20,11.25 C20.414,11.25 20.75,11.586 20.75,12 C20.75,12.414 20.414,12.75 20,12.75 L4,12.75 C3.586,12.75 3.25,12.414 3.25,12 Z M4,18.25 L20,18.25 C20.414,18.25 20.75,18.586 20.75,19 C20.75,19.414 20.414,19.75 20,19.75 L4,19.75 C3.586,19.75 3.25,19.414 3.25,19 C3.25,18.586 3.586,18.25 4,18.25 Z"
                  />
                </svg>
              </div>
            </div>

            <div className="header flex">
              <div className="flex al" id="number">#</div>
              <div className="flex al" id="title">Title</div>

              <div className="album flex al">
                <p>Album</p>
              </div>
              <div className="date flex al">
                <p>Date added</p>
              </div>
              <div className="duration flex al">
                <svg
                  className="invert"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  width="24"
                  height="24"
                  color="#000000"
                  fill="none"
                >
                  <defs />
                  <path
                    fill="#141B34"
                    d="M12.5,1.25 C18.437,1.25 23.25,6.063 23.25,12 C23.25,17.937 18.437,22.75 12.5,22.75 C6.563,22.75 1.75,17.937 1.75,12 C1.75,6.063 6.563,1.25 12.5,1.25 Z M3.25,12 C3.25,17.109 7.391,21.25 12.5,21.25 C17.609,21.25 21.75,17.109 21.75,12 C21.75,6.891 17.609,2.75 12.5,2.75 C7.391,2.75 3.25,6.891 3.25,12 Z M17.03,8.53 L13.561,12 L14.03,12.469 C14.323,12.762 14.323,13.237 14.03,13.53 C13.737,13.823 13.262,13.823 12.97,13.53 L12.5,13.061 L12.03,13.53 C11.737,13.823 11.263,13.823 10.97,13.53 C10.677,13.237 10.677,12.763 10.97,12.47 L11.439,12 L9.47,10.03 C9.177,9.737 9.177,9.263 9.47,8.97 C9.763,8.677 10.237,8.677 10.53,8.97 L12.5,10.939 L15.97,7.47 C16.263,7.177 16.737,7.177 17.03,7.47 C17.323,7.763 17.323,8.237 17.03,8.53 Z"
                  />
                </svg>
              </div>
            </div>
            <hr />
            <PlaylistCard songs = {songs}/>
          </div>
        </div>
    </div>
    </div>
  )
}

export default SongPlaylist

